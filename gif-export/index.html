<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <title>Sketchfab GIF Exporter</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300|Titillium+Web:700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="style/app.css">
    <link rel="stylesheet" type="text/css" href="../styles/sketchfab.css">
</head>

<body>
    <header class="header">
        <h1 class="header--logo">
        <a href="../">
            <img src="../assets/sketchfab-logo.svg" alt="Sketchfab" width="120" class="header--image">
            <span>Labs Experiments</span>
        </a>
    </h1>
    </header>

    <div class="app">
        <div class="panel">
            <div class="viewer">
                <iframe src="" id="api-frame" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

                <div class="progress"></div>

                <div id="recorder" tabindex="0" draggable="false" style="z-index:99999;        display: block;
                                                                                width: 100%;
                                                                                height: 100%;
                                                                                border: 0px;
                                                                                position: absolute;
                                                                                left: 50%;
                                                                                top: 50%;
                                                                                transform: translate(-50%, -50%);">
                </div>

            </div>
            <div class="sidebar">

                <div class="section active">
                    <button type="button" class="button btn-primary" id="load-scene">Load 3D scene</button>
                </div>

                <form class="section" id="options-panel">
                    <h2 class="section-title">Settings</h2>

                    <div class="field">
                        <label class="field-label">
                            Resolution
                        </label>
                        <div class="field-control">
                            <input type="text" size="4" value="1920" placeholder="width" name="width" title="Width. Max: 4096">
                            <input type="text" size="4" value="1080" placeholder="height" name="height" title="Height. Max: 4096">
                            <small>(4096 max)</small>
                        </div>
                    </div>
                    <div class="field">
                        <label class="field-label">

                        </label>
                        <div class="field-control">
                            <!--https://en.wikipedia.org/wiki/Graphics_display_resolution#Overview_by_vertical_resolution_and_aspect_ratio !-->
                            <a href="#" class="resolution-preset" data-width="3840" data-height="2160">UHD 4K</a>
                            <a href="#" class="resolution-preset" data-width="2560" data-height="1440">WQUHD 2K</a>
                            <a href="#" class="resolution-preset" data-width="1920" data-height="1080">Full HD 1080</a>           
                            <a href="#" class="resolution-preset" data-width="1280" data-height="720">HD 720</a>                 
                        </div>
                    </div>
                    <div class="field field-duration">
                        <label class="field-label" for="select-duration">
                            Duration
                        </label>
                        <div class="field-control">
                            <select name="duration" id="select-duration">
                                <option value="0.1">0.1s</option>
                                <option value="0.5">0.5s</option>
                                <option value="1">1s</option>
                                <option value="2" selected="">2s</option>
                                <option value="5">5s</option>
                                <option value="10">10s</option>
                                <option value="15">15s</option>
                                <option value="20">20s</option>
                                <option value="30">30s</option>
                                <option value="60">60s</option>
                            </select>
                        </div>
                    </div>
                    <div class="field field-fps">
                        <label class="field-label" for="select-fps">
                            FPS
                        </label>
                        <div class="field-control">
                            <select name="fps" id="select-fps">
                                <option value="30">30</option>
                                <option value="60" selected="">60</option>
                            </select>
                        </div>
                        </div>
                    <div class="field field-texture">
                        <label class="field-label" for="select-texture">
                            texture quality
                        </label>
                        <div class="field-control">
                            <select name="texture" id="select-texture">
                                <option value="sd">SD</option>
                                <option value="hd" selected="">HD</option>
                            </select>
                        </div>
                    </div>
                    <div class="field">
                        <label class="field-label" for="field-output">
                            Format
                        </label>
                        <div class="field-control">
                            <select name="output" id="field-output">
                                <option value="mp4">MP4</option>
                                <option value="gif">GIF</option>
                                <option value="png">PNGs (zip)</option>
                            </select>
                        </div>
                    </div>
<div style="padding: 5px">
                    <button type="submit" class="button btn-primary" id="render-gif">Render (autospin or animation)</button>
                    <br/>
</div>
<div  style="padding: 5px">
                    <button type="submit" class="button btn-primary" id="record-mouse">Record Mouse</button>
                    &nbsp;
                    <button type="submit" class="button btn-primary" id="stop-record-mouse">Stop Record Mouse</button>
                    <br/>
<div style="padding: 5px">
                    <button type="submit" class="button btn-primary" id="render-record">Render using recorded mouse events</button>
</div>


                </form>

<div>Steps: push "record mouse", do your things (including use alt/ctrl/shift+mouse), then push "stop record mouse", then push "Render using recorded mouse events" (and let that tab alone!)</div>
                <div>DO NOT SWITCH TAB during render, better make the browser tab in its own "browser window" with no other tabs, alone, ( just let that single tab window on the desktop during render ) </div>
            </div>
        </div>
    </div>

    <script>
            var eHead = document.getElementsByTagName('head')[0];
            fileref = document.createElement('script')
            fileref.setAttribute("type","text/javascript")
            fileref.setAttribute("src", "../model-picker/SketchfabPicker.js");
            eHead.insertBefore(fileref, eHead.firstChild);            
    </script>
   <script type="text/javascript" src="https://static.sketchfab.com/api/sketchfab-viewer-1.6.0.js"></script>


    <script type="text/javascript" src="js/vendors/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/vendors/lodash.min.js"></script>
    <script type="text/javascript" src="js/vendors/backbone-min.js"></script>


    <!-- zip -->
    <script type="text/javascript" src="js/vendors/gif.js"></script>
    <!-- png list-->
    <script type="text/javascript" src="js/vendors/jszip.js"></script>
    <!-- filesave-->
    <script type="text/javascript" src="js/vendors/FileSaver.min.js"></script>

    <!-- event recorder-->
    <script type="text/javascript" src="js/recordPlayer.js"></script>
    <script type="text/javascript" src="js/recorder.js"></script>
    <!-- video encoder -->
    <script type="text/javascript" src="js/views/videoencoder.js"></script>

    <script type="text/javascript" src="js/ImageSequence.js"></script>
    <script type="text/javascript" src="js/views/App.js"></script>
    <script type="text/javascript" src="js/views/Progress.js"></script>
    <script type="text/javascript" src="js/Router.js"></script>
    <script type="text/javascript" src="js/app.js"></script>

    <script type="text/javascript">
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-22680456-16', 'auto');
        ga('send', 'pageview');
    </script>
</body>

</html>
